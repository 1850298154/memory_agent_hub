---
created: 2025-10-08T19:37:41 (UTC +08:00)
tags: [BM25,scoring algorithm,probabilistic information retrieval,TF-IDF,term frequency,inverse document frequency,document length normalization,final score calculation,advantages of BM25,robustness of BM25,efficiency of BM25,limitations of BM25,semantic understanding,hybrid retrieval models,information retrieval systems]
source: https://www.geeksforgeeks.org/nlp/what-is-bm25-best-matching-25-algorithm/
author: GeeksforGeeks
---

# 什么是 BM25（最佳匹配 25）算法？- 极客为极客 --- What is BM25 (Best Matching 25) Algorithm? - GeeksforGeeks

> ## Excerpt
> BM25 is a scoring algorithm employed by search engines to evaluate how well a document matches a specific search query. It belongs to the family of probabilistic information retrieval models, which aim to calculate the likelihood that a document is relevant to a user's query based on the statistical properties

---
Last Updated : 23 Jul, 2025  
最后更新 ： 23 Jul， 2025

****BM25 is a scoring algorithm employed by search engines to evaluate how well a document matches a specific search query.**** It belongs to the family of probabilistic information retrieval models, which aim to calculate the likelihood that a document is relevant to a user's query based on the statistical properties of the text.  
****BM25 是搜索引擎用来评估文档与特定搜索查询的匹配程度的评分算法。**** 它属于概率信息检索模型家族，旨在根据文本的统计属性计算文档与用户查询相关的可能性。

BM25 is an evolution of earlier retrieval models like [****TF-IDF (Term Frequency-Inverse Document Frequency)****](https://www.geeksforgeeks.org/machine-learning/understanding-tf-idf-term-frequency-inverse-document-frequency/), addressing some of its shortcomings while maintaining computational efficiency. It was first introduced as part of the ****Okapi BM25**** system, developed at London City University in the 1980s and 1990s.  
BM25 是 [****TF-IDF（项频率-逆文档频率）****](https://www.geeksforgeeks.org/machine-learning/understanding-tf-idf-term-frequency-inverse-document-frequency/) 等早期检索模型的演变 ，在保持计算效率的同时解决了其一些缺点。它最初是作为 ****Okapi BM25**** 系统的一部分引入的，该系统于 1980 年代和 1990 年代在伦敦城市大学开发。

> The "25" in BM25 refers to its development as part of the Okapi project, and it has since become synonymous with state-of-the-art text retrieval.  
> BM25 中的“25”指的是它作为 Okapi 项目的一部分进行开发，从此成为最先进的文本检索的代名词。

## How Does BM25 Work?  BM25 如何工作？

BM25 ranks documents based on how well they match a query, considering factors such as term frequency, document length, and inverse document frequency. Here's a breakdown of its key components:  
BM25 根据文档与查询的匹配程度对文档进行排名，并考虑术语频率、文档长度和反向文档频率等因素。以下是其关键组件的细分：

### 1\. ****Term Frequency (TF)****  
1\. ****术语频率 （TF）****

****Term frequency**** measures how often a query term appears in a document. Intuitively, a document containing a query term multiple times is more likely to be relevant. However, BM25 introduces a ****saturation effect**** : beyond a certain point, additional occurrences of a term contribute less to the score. This prevents overly long documents from being unfairly favored.  
****术语频率衡量****查询术语在文档中出现的频率。直观地说，多次包含查询词的文档更有可能是相关的。然而，BM25 引入了饱****和效应**** ：超过某个点，一个术语的额外出现对分数的贡献较小。这可以防止过长的文件受到不公平的青睐。

Mathematically, the term frequency component is normalized using the formula:  
从数学上讲，术语频率分量使用以下公式进行归一化：

$TF(t,d)=\frac{freq(t,d)}{freq(t,d) + k_1 . (1-b+b.\frac{|d|}{\text{avgdl}})}$

where:  哪里：

-   $t$: Query term
-   $d$: Document
-   $freq(t,d)$: Number of times term $t$ appears in document $d$
-   $∣d∣$: Length of document $d$
-   $\text{avgdl}$: Average document length in the corpus
-   $k_1$: Controls the saturation effect (typically set between 1.2 and 2.0)
-   $b$: Controls the influence of document length (typically set to 0.75)

### 2\. ****Inverse Document Frequency (IDF)****  
2\. ****逆文档频率 （IDF）****

Inverse document frequency measures the importance of a term across the entire corpus. Rare terms are considered more informative than common ones. For example, the word "the" appears in almost every document and thus carries little value, whereas a rare term like "quantum" is more indicative of relevance.  
逆文档频率衡量一个术语在整个语料库中的重要性。罕见术语被认为比常见术语信息量更大。例如，“the”一词几乎出现在每个文档中，因此价值不大，而像“量子”这样的罕见术语更能表明相关性。

The IDF component is calculated as:  
IDF 组件的计算公式为：

$IDF(t)=log(\frac{N-n_t+0.5}{n_t+0.5})$

where:  哪里：

-   $N$: Total number of documents in the corpus  
    $N$ ：语料库中的文档总数
-   $n_t$: Number of documents containing term $t$  
    𝑛 𝑡 n t  ：包含术语 $t$ 的文档数

### 3\. ****Document Length Normalization****  
3\. ****文档长度归一化****

BM25 accounts for document length by normalizing scores to prevent longer documents from dominating the rankings. This is controlled by the parameter $b$, which adjusts the influence of document length relative to the average document length ($\text{avgdl}$).  
BM25 通过标准化分数来考虑文档长度，以防止较长的文档主导排名。这由参数 控制，该参数 $b$ 调整文档长度相对于平均文档长度 （ ） $\text{avgdl}$ 的影响 。

### 4\. ****Final Score Calculation****  
4\. ****最终分数计算****

The final BM25 score for a document $d$ with respect to a query $q$ is computed as:  
文档 $d$ 与查询 $q$ 相关的最终 BM25 分数计算如下：

$Score(q,d) = \sum_{t\epsilon q}IDF(t).TF(t,d)$

This sums up the contributions of all query terms $t$ in the document $d$.  
这汇总了文档 $d$ 中所有查询词 $t$ 的贡献 。

## Advantages of BM25  BM25 的优点

1.  ****Robustness**** : BM25 performs consistently well across a wide range of datasets and domains. Its ability to balance term frequency, document length, and term rarity makes it highly reliable.  
    ****鲁棒性**** ：BM25 在广泛的数据集和领域中始终表现良好。它平衡术语频率、文档长度和术语稀有性的能力使其高度可靠。
2.  ****Efficiency**** : Despite its probabilistic foundation, BM25 is computationally efficient and can scale to large corpora, making it suitable for real-world applications like web search engines.  
    ****效率**** ：尽管具有概率基础，但 BM25 的计算效率很高，可以扩展到大型语料库，使其适合网络搜索引擎等实际应用。
3.  ****Customizability**** : Parameters like $k_1$ and $b$ allow users to fine-tune BM25 for specific tasks or datasets, enhancing its adaptability.  
    ****可定制性**** ：参数如 k 1 k 1  并 $b$ 允许用户针对特定任务或数据集对 BM25 进行微调，增强其适应性。
4.  ****Interpretability**** : Unlike deep learning-based models, BM25's scoring mechanism is transparent and interpretable, making it easier to debug and understand.  
    可****解释性**** ：与基于深度学习的模型不同，BM25 的评分机制是透明且可解释的，使其更易于调试和理解。

## Limitations of BM25  BM25 的局限性

While BM25 is a powerful algorithm, it is not without limitations:  
虽然 BM25 是一种强大的算法，但它并非没有局限性：

1.  ****Lack of Semantic Understanding**** : BM25 operates at the lexical level, meaning it matches terms based on exact word forms. It does not account for synonyms, paraphrases, or semantic relationships. For example, "car" and "automobile" would be treated as unrelated terms.  
    ****缺乏语义理解**** ：BM25 在词汇级别运行，这意味着它根据确切的词形匹配术语。它不考虑同义词、释义或语义关系。例如，“汽车”和“汽车”将被视为不相关的术语。
2.  ****Static Scoring**** : BM25 relies solely on statistical properties of the text and does not incorporate external knowledge or context. This can limit its performance on queries requiring deeper understanding or multi-hop reasoning.  
    ****静态评分**** ：BM25 仅依赖于文本的统计属性，不包含外部知识或上下文。这可能会限制其在需要更深入理解或多跳推理的查询上的性能。
3.  ****Sensitivity to Corpus Characteristics**** : The effectiveness of BM25 depends on the quality and structure of the corpus. In highly specialized or noisy datasets, its performance may degrade.  
    ****对语料库特征的敏感性**** ：BM25 的有效性取决于语料库的质量和结构。在高度专业化或嘈杂的数据集中，其性能可能会下降。
4.  ****No Support for Dense Representations**** : Unlike modern dense retrieval methods (e.g., ****Dense Passage Retrieval**** ), BM25 does not leverage embeddings or neural networks to capture semantic similarity.  
    ****不支持密集表示**** ：与现代密集检索方法（例如密集****段落检索**** ）不同 ，BM25 不利用嵌入或神经网络来捕获语义相似性。

## BM25 in Practice  BM25 的实践

BM25 has been widely adopted in both academic research and industry applications. Some notable use cases include:  
BM25 在学术研究和行业应用中都得到了广泛的应用。一些值得注意的用例包括：

1.  ****Search Engines**** : BM25 serves as the backbone of many search engines, including open-source platforms like ****Apache Lucene**** and ****Elasticsearch**** .  
    ****搜索引擎**** ：BM25 是许多搜索引擎的支柱，包括 ****Apache Lucene**** 和 ****Elasticsearch**** 等开源平台 。
2.  ****Question Answering Systems**** : In open-domain question answering, BM25 is often used as the initial retrieval step to fetch candidate documents before applying more sophisticated ranking or answer extraction techniques.  
    ****问答系统**** ：在开放域问答中，BM25 通常用作初始检索步骤，在应用更复杂的排名或答案提取技术之前获取候选文档。
3.  ****Recommendation Systems**** : BM25 can rank items (e.g., products, articles) based on textual descriptions, improving the relevance of recommendations.  
    ****推荐系统**** ：BM25 可以根据文本描述对项目（例如产品、文章）进行排名，从而提高推荐的相关性。
4.  ****Legal and Medical Text Retrieval**** : BM25's precision and interpretability make it valuable in domains requiring accurate and explainable results, such as legal case retrieval or medical literature search.  
    ****法律和医学文本检索**** ：BM25 的精确性和可解释性使其在需要准确和可解释结果的领域中具有价值，例如法律案例检索或医学文献检索。

## BM25 vs. Modern Approaches  
BM25 与现代方法

With the rise of deep learning and neural networks, newer retrieval methods like ****Dense Passage Retrieval (DPR)**** have gained attention. These methods encode queries and documents into dense vector representations, capturing semantic relationships that BM25 cannot. However, BM25 remains competitive due to its simplicity, efficiency, and interpretability.  
随着深度学习和神经网络的兴起， ****密集通道检索（DPR）**** 等较新的检索方法引起了人们的关注。这些方法将查询和文档编码为密集的向量表示，捕获 BM25 无法捕获的语义关系。然而，BM25 因其简单性、高效性和可解释性而保持竞争力。

In practice, hybrid approaches combining BM25 with dense retrieval models are becoming increasingly popular. For example:  
在实践中，将 BM25 与密集检索模型相结合的混合方法正变得越来越流行。例如：

-   Use BM25 for fast initial retrieval.  
    使用 BM25 进行快速初始检索。
-   Re-rank the top-k results using a cross-encoder or dense retrieval model.  
    使用交叉编码器或密集检索模型对前 k 个结果进行重新排名。

This hybrid strategy leverages the strengths of both paradigms: BM25's speed and reliability, coupled with the semantic richness of neural models.  
这种混合策略利用了两种范式的优势：BM25 的速度和可靠性，以及神经模型的语义丰富性。

As the field of information retrieval evolves, BM25 will likely remain a key player—either as a standalone solution or as part of hybrid systems that combine the best of traditional and neural approaches. For anyone working in search or text analysis, understanding BM25 is essential, as it provides a solid foundation for building and improving retrieval systems.  
随着信息检索领域的发展，BM25 可能仍将是一个关键参与者——无论是作为独立解决方案还是作为结合了传统方法和神经方法优点的混合系统的一部分。对于任何从事搜索或文本分析工作的人来说，了解 BM25 都是必不可少的，因为它为构建和改进检索系统提供了坚实的基础。
